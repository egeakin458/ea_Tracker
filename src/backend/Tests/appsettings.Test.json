{
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=ea_tracker_test;Uid=test_user;Pwd=test_password;Connection Timeout=30;"
  },
  "Jwt": {
    "SecretKey": "this-is-a-test-secret-key-for-unit-testing-purposes-with-sufficient-length",
    "Issuer": "ea_tracker_test",
    "Audience": "ea_tracker_test_client",
    "ExpirationMinutes": 60
  },
  "Logging": {
    "LogLevel": {
      "Default": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning"
    }
  },
  "RateLimiting": {
    "Global": {
      "Enabled": true,
      "DefaultLimit": 100,
      "PeriodInMinutes": 1,
      "ExceededMessage": "API rate limit exceeded. Please try again later."
    },
    "Ip": {
      "Enabled": true,
      "RequestsPerMinute": 60,
      "WhitelistedIps": [],
      "EnableRealIpExtraction": true,
      "RealIpHeaders": ["X-Forwarded-For", "X-Real-IP"]
    },
    "User": {
      "Enabled": true,
      "RoleLimits": {
        "Anonymous": {
          "RequestsPerMinute": 60
        },
        "User": {
          "RequestsPerMinute": 300
        },
        "Admin": {
          "RequestsPerMinute": 1000
        }
      }
    },
    "Endpoint": {
      "Enabled": true,
      "Rules": [
        {
          "Endpoint": "POST:/api/auth/login",
          "RequestsPerMinute": 5,
          "PerUser": false,
          "Description": "Login endpoint protection against brute force",
          "ApplicableRoles": []
        },
        {
          "Endpoint": "GET:/api/export/*",
          "RequestsPerMinute": 5,
          "PerUser": true,
          "Description": "Export endpoint protection against resource abuse",
          "ApplicableRoles": []
        },
        {
          "Endpoint": "POST:/api/investigations/*/execute",
          "RequestsPerMinute": 10,
          "PerUser": true,
          "Description": "Investigation execution rate limiting",
          "ApplicableRoles": []
        }
      ]
    },
    "FeatureFlags": {
      "EnableIpRateLimiting": true,
      "EnableUserRateLimiting": true,
      "EnableEndpointRateLimiting": true,
      "EnableAuditLogging": true,
      "EnablePerformanceMonitoring": true
    }
  }
}
